import{L as w}from"./Layout-BdsSE8cV.js";import{_ as v}from"./DataTable-MJnSbYJK.js";import{f as k,r as y}from"./borrow-CqHv5Yvu.js";import{r as c,G as B,H as r,ay as l,y as C,P as e,L as _}from"./vendor_vue-CyXBEfF2.js";import"./vendor_misc-Dn7xwPo7.js";import"./index-C-RrEStG.js";import"./vendor_element-DkqkCxjX.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const S={__name:"ReturnPage",setup(D){const n=c(""),u=c([]);async function m(){const t=await k({card:n});t&&t.code===0&&(u.value=t.data.items||t.data)}async function d(t){const o=await y({borrowIds:[t.borrowId],returnDate:new Date().toISOString().slice(0,10)});o&&o.code===0&&m()}return(t,o)=>{const i=l("el-input"),p=l("el-button"),f=l("el-form-item"),b=l("el-form"),a=l("el-table-column");return C(),B(w,null,{default:r(()=>[e(b,null,{default:r(()=>[e(f,{label:"读者卡号"},{default:r(()=>[e(i,{modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=s=>n.value=s)},null,8,["modelValue"]),e(p,{onClick:m},{default:r(()=>[...o[1]||(o[1]=[_("查询在借",-1)])]),_:1})]),_:1})]),_:1}),e(v,{data:u.value},{columns:r(()=>[e(a,{prop:"borrowId",label:"借阅编号"}),e(a,{prop:"title",label:"书名"}),e(a,{prop:"borrowDate",label:"借出日期"}),e(a,{prop:"dueDate",label:"应还日期"}),e(a,{prop:"overdueDays",label:"逾期天数"}),e(a,{label:"操作"},{default:r(({row:s})=>[e(p,{onClick:V=>d(s)},{default:r(()=>[...o[2]||(o[2]=[_("归还",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})}}};export{S as default};
