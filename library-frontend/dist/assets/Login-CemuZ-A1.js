import{r as m,x as y,P as o,H as l,ay as r,aZ as V,y as x,z as b,L as k}from"./vendor_vue-CyXBEfF2.js";import{u as B}from"./index-C-RrEStG.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor_misc-Dn7xwPo7.js";import"./vendor_element-DkqkCxjX.js";const L={class:"login-page"},N={__name:"Login",setup(R){const p=m(null),a=m({username:"",password:""}),i={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},s=m(!1),f=B(),_=V();async function c(){s.value=!0;try{const t=await f.login({username:a.value.username,password:a.value.password});t&&t.code===0&&_.push("/")}finally{s.value=!1}}return(t,e)=>{const d=r("el-input"),n=r("el-form-item"),g=r("el-button"),v=r("el-form"),w=r("el-card");return x(),y("div",L,[o(w,{class:"login-card"},{default:l(()=>[e[3]||(e[3]=b("h3",null,"登录",-1)),o(v,{model:a.value,rules:i,ref_key:"formRef",ref:p},{default:l(()=>[o(n,{prop:"username"},{default:l(()=>[o(d,{modelValue:a.value.username,"onUpdate:modelValue":e[0]||(e[0]=u=>a.value.username=u),placeholder:"用户名"},null,8,["modelValue"])]),_:1}),o(n,{prop:"password"},{default:l(()=>[o(d,{modelValue:a.value.password,"onUpdate:modelValue":e[1]||(e[1]=u=>a.value.password=u),type:"password",placeholder:"密码"},null,8,["modelValue"])]),_:1}),o(n,null,{default:l(()=>[o(g,{type:"primary",loading:s.value,onClick:c},{default:l(()=>[...e[2]||(e[2]=[k("登录",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})])}}},A=C(N,[["__scopeId","data-v-213f6f50"]]);export{A as default};
