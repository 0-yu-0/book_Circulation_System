import{L as R}from"./Layout-BGNV5PTI.js";import{a_ as h,r as p,q as B,G as D,H as e,aZ as C,ay as d,y as L,P as a,u as c,z as u,L as l,M as s}from"./vendor_vue-DcrwGJHO.js";import{g as N}from"./reader-DiP4nMq6.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{E as m}from"./vendor_element-BfRFdgV9.js";import"./index-xceKWyYj.js";import"./vendor_misc-BnRtHUQB.js";const M={class:"card-header"},V={style:{"margin-top":"20px","text-align":"right"}},q={__name:"ReaderDetail",setup(E){const f=h(),_=C(),v=f.params.id,t=p({}),i=p(!1);B(async()=>{await g()});async function g(){i.value=!0;try{const o=await N(v);o&&o.code===0?t.value=o.data:m.error((o==null?void 0:o.message)||"获取读者详情失败")}catch(o){m.error("获取读者详情失败: "+(o.message||o))}finally{i.value=!1}}return(o,n)=>{const b=d("el-page-header"),r=d("el-descriptions-item"),y=d("el-descriptions"),x=d("el-button"),k=d("el-card"),w=d("el-skeleton");return L(),D(R,null,{default:e(()=>[a(w,{loading:i.value,animated:"",rows:10},{default:e(()=>[a(b,{onBack:n[0]||(n[0]=()=>c(_).go(-1))},{content:e(()=>[...n[2]||(n[2]=[u("span",null,"读者详情",-1)])]),_:1}),a(k,{style:{"margin-top":"20px"}},{header:e(()=>[u("div",M,[u("span",null,s(t.value.name),1)])]),default:e(()=>[a(y,{column:1,border:""},{default:e(()=>[a(r,{label:"姓名"},{default:e(()=>[l(s(t.value.name),1)]),_:1}),a(r,{label:"读者ID"},{default:e(()=>[l(s(t.value.id),1)]),_:1}),a(r,{label:"证件类型"},{default:e(()=>[l(s(t.value.idType),1)]),_:1}),a(r,{label:"证件号"},{default:e(()=>[l(s(t.value.idNumber),1)]),_:1}),a(r,{label:"电话"},{default:e(()=>[l(s(t.value.phone),1)]),_:1}),a(r,{label:"注册日期"},{default:e(()=>[l(s(t.value.registerDate),1)]),_:1}),a(r,{label:"状态"},{default:e(()=>[l(s(t.value.status),1)]),_:1}),a(r,{label:"最大借书数"},{default:e(()=>[l(s(t.value.borrowLimit),1)]),_:1}),a(r,{label:"当前借书数"},{default:e(()=>[l(s(t.value.currentBorrowCount),1)]),_:1})]),_:1}),u("div",V,[a(x,{onClick:n[1]||(n[1]=T=>c(_).push({path:"/readers",query:{editId:t.value.id}}))},{default:e(()=>[...n[3]||(n[3]=[l("编辑",-1)])]),_:1})])]),_:1})]),_:1},8,["loading"])]),_:1})}}},j=I(q,[["__scopeId","data-v-54511bff"]]);export{j as default};
