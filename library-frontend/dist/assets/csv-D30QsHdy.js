function h(d,l,f){const t=e=>{if(e==null)return"";const o=String(e);return/[",\n]/.test(o)?`"${o.replace(/"/g,'""')}"`:o},r=[l.map(t).join(","),...f.map(e=>e.map(t).join(","))].join(`
`),s="\uFEFF",a=new Blob([s+r],{type:"text/csv;charset=utf-8;"}),u=URL.createObjectURL(a),n=document.createElement("a");n.href=u,n.download=d,document.body.appendChild(n),n.click(),n.remove(),URL.revokeObjectURL(u)}function F(d){return new Promise((l,f)=>{const t=new FileReader;t.onerror=()=>f(t.error),t.onload=()=>{let r=String(t.result||"");r.charCodeAt(0)===65279&&(r=r.slice(1));const s=r.split(/\r?\n/).filter(e=>e.trim().length>0);if(s.length===0)return l({headers:[],rows:[]});const a=e=>{const o=[];let c="",p=!1;for(let i=0;i<e.length;i++){const m=e[i];if(m==='"'){if(p&&e[i+1]==='"'){c+='"',i++;continue}p=!p;continue}if(m===","&&!p){o.push(c),c="";continue}c+=m}return o.push(c),o},u=a(s[0]).map(e=>e.trim()),n=s.slice(1).map(a);l({headers:u,rows:n})},t.readAsText(d,"utf-8")})}export{h as e,F as p};
